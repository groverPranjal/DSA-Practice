
Note: use string only stringbuilder wont work in each and everytestcase
class Solution {
    public String decodeString(String s) {
        Stack<String> st=new Stack<>();

        for(int i=0;i<s.length();i++){
            if(s.charAt(i)!=']') st.push(String.valueOf(s.charAt(i)));
            else{
                String str = "";
                while(!st.peek().equals("[")){
                  str = st.pop() + str;
                }             
                st.pop(); //remove [;         
                //building number
               String k = "";
                while(!st.isEmpty() && Character.isDigit(st.peek().charAt(0))){
                    k = st.pop() + k;
                  }
                int n=Integer.parseInt(k.toString());
                
                StringBuilder sb=new StringBuilder();
                for(int j=0;j<n;j++) sb.append(str);
                st.push(sb.toString());
            }
        }
        StringBuilder sb=new StringBuilder();
        for(String part:st) sb.append(part);
        return sb.toString();
    }
}
