class Solution {
    Boolean[][] dp;
    public boolean canPartition(int[] nums) {
        int sum=0;
        for(int i:nums) sum+=i;
        if(sum%2!=0) return false;
        int n=nums.length;
        dp=new Boolean[n+1][sum/2+1];
        return solve(nums,n-1,sum/2);
    }
    public boolean solve(int[] nums,int i,int cap){
        if(i<0){
            if(cap==0) return true;
            return false;
        }
        if(dp[i][cap]!=null) return dp[i][cap];
        boolean pic=false;
        boolean notPic=solve(nums,i-1,cap);
        if(nums[i]<=cap) pic=solve(nums,i-1,cap-nums[i]);
        return dp[i][cap]=pic||notPic;
    }
}
